const e=e=>fetch("http://localhost:3000/movies",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}}),t=()=>fetch("http://localhost:3000/movies"),o=(e,t)=>{let o={method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}};return console.log(e,t),fetch(`http://localhost:3000/movies/${e}`,o)},l=({id:e,title:t,year:o,photo:l})=>`<li class="movie">
   <p class="movie__id">${e}</p>
      <h2 class="movie__title">${t}</h2>
      <p class="movie__year">${o}</p>
      <img src="${l}" alt="${t}" class="movie__photo">
      <button class="delete__btn" id="${e}" type="button">Delete</button>
      <button class="update__btn" id="${e}" type="button">Update</button>
    </li>`,n=e=>e.map(e=>l(e)).join(""),r=document.querySelector(".movies"),s=document.querySelector(".movies"),a=document.querySelector(".movies"),c=document.querySelector(".form"),i=document.querySelector(".update-form");t().then(e=>e.json()).then(e=>{let t=n(e);a.insertAdjacentHTML("beforeend",t),document.querySelector(".delete__btn").addEventListener("click",e=>{let t=e.target.id;console.log(t),deleteProduct(t).then(()=>console.log("Movie deleted")).catch(e=>console.log("Error:",e))})}).catch(e=>{console.error("Error",e)}),c.addEventListener("submit",o=>{o.preventDefault();let l=o.target.elements.id.value,s={id:l,title:o.target.elements.title.value,year:o.target.elements.year.value,photo:o.target.elements.photo.value};return e(s),t().then(e=>e.json()).then(e=>{console.log(e);let t=n(e);r.insertAdjacentHTML("beforeend",t)}).catch(e=>{console.error("Error",e)}),s}),i.addEventListener("submit",e=>{e.preventDefault();let l={id:e.target.elements.id.value,title:e.target.elements.title.value,year:e.target.elements.year.value,photo:e.target.elements.photo.value};return o(l.id,l).then(e=>e.json()).then(e=>{console.log(e)}),t().then(e=>e.json()).then(e=>{console.log(e);let t=n(e);s.insertAdjacentHTML("beforeend",t)}).catch(e=>{console.error("Error",e)}),l});
//# sourceMappingURL=index.8cf864c1.js.map
